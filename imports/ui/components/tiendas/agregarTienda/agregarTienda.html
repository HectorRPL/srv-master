<form role="form" id="agregarTiendaFrmId" name="agregarTiendaFrm" novalidate>
    <div class="wrapper wrapper-content animated fadeInRight">
        <div class="row">
            <div class="col-lg-12">
                <div class="ibox">
                    <div class="wizard">
                        <h2>{{agregarTienda.titulo}}</h2>
                        <p>
                            Vas a crear una nueva tienda del 'Grupo', todos los datos que vas a inresar son muy senbles.
                            <br/>
                            <strong>Tienes que ser muy cauteloso</strong><br/>
                        </p>
                        <div class="steps clearfix">
                            <div class="row">
                                <div class="col-md-4">
                                    <button type="button"
                                            class="btn btn-block"
                                            ng-class="{'btn-default' : agregarTienda.pasoActual != 1, 'btn-primary' : agregarTienda.pasoActual === 1 }"
                                            ng-disabled="agregarTienda.pasoActual != 1">
                                        Paso 1
                                    </button>
                                </div>
                                <div class="col-md-4">
                                    <button type="button"
                                            class="btn btn-block"
                                            ng-class="{'btn-default' : agregarTienda.pasoActual != 2, 'btn-primary' : agregarTienda.pasoActual === 2 }"
                                            ng-disabled="agregarTienda.pasoActual != 2">
                                        Paso 2
                                    </button>
                                </div>
                                <div class="col-md-4">
                                    <button type="button"
                                            class="btn btn-block"
                                            ng-class="{'btn-default' : agregarTienda.pasoActual != 3, 'btn-primary' : agregarTienda.pasoActual === 3 }"
                                            ng-disabled="agregarTienda.pasoActual != 3">
                                        Paso 3
                                    </button>
                                </div>
                            </div>
                        </div>
                        <div class="wizard">
                            <div class="content">
                                <div class="modal-body">
                                    <!--DATOS GENERALES-->
                                    <div class="row animated fadeInRight"
                                         ng-show="agregarTienda.pasoActual === 1">
                                        <!--INFORMACIÓN DE CONTACTO-->
                                        <h3>Datos de Contacto</h3>
                                        <!--NOMBRE DE LA EMPRESA-->
                                        <div class="col-sm-6">
                                            <div class="form-group" ng-class="{ 'has-error' : agregarTiendaFrm.nombre.$invalid && !agregarTiendaFrm.nombre.$pristine}">
                                                <div class="input-group">
                                                <span class="input-group-addon">
                                                    <i class="fa fa-building-o" aria-hidden="true"></i>
                                                </span>
                                                    <input id="nombreId" class="form-control texto-en-mayusculas" name="nombre" type="text"
                                                           placeholder="Nombre Tienda" aria-describedby="sizing-addon1"
                                                           minlength="2" maxlength="51" ng-minlength="2" ng-maxlength="50"
                                                           ng-pattern="/^[a-zA-Z-/.&ÑñáéíóúÁÉÍÓÚ-\s\d]+$/" required
                                                           ng-model="agregarTienda.datos.nombre">
                                                </div>
                                                <div ng-messages="agregarTiendaFrm.nombre.$dirty && agregarTiendaFrm.nombre.$error"
                                                     role="alert">
                                                    <div style="color:red;" ng-message="required"> Campo requerido</div>
                                                    <div style="color:red;" ng-message="minlength"> Longitud mínima 2 caracteres</div>
                                                    <div style="color:red;" ng-message="maxlength"> Longitud máxima 50 caracteres</div>
                                                    <div style="color:red;" ng-message="pattern"> Sólo caracteres alfabéticos</div>
                                                </div>
                                            </div>
                                        </div>
                                        <!-- EMAIL DE CONTACTO -->
                                        <div class="col-sm-6">
                                            <div class="form-group"
                                                 ng-class="{ 'has-error' : agregarTiendaFrm.email.$invalid && !agregarTiendaFrm.email.$pristine}">
                                                <div class="input-group">
                                                    <span class="input-group-addon">@</span>
                                                    <input id="emailId" class="form-control texto-en-mayusculas" name="email" type="email"
                                                           placeholder="Correo Electrónico" aria-describedby="sizing-addon1" minlength="5"
                                                           maxlength="51" ng-minlength="5" ng-maxlength="50" required
                                                           ng-model="agregarTienda.datos.email">
                                                </div>
                                                <div ng-messages="agregarTiendaFrm.email.$dirty && agregarTiendaFrm.email.$error" role="alert">
                                                    <div style="color:red;" ng-message="required"> Campo requerido</div>
                                                    <div style="color:red;" ng-message="email"> Formato de correo incorrecto</div>
                                                    <div style="color:red;" ng-message="minlength"> Longitud mínima 2 caracteres</div>
                                                    <div style="color:red;" ng-message="maxlength"> Longitud máxima 50 caracteres</div>
                                                </div>
                                            </div>
                                        </div>
                                        <!-- TELÉFONO DE CONTACTO-->
                                        <div class="col-sm-6">
                                            <div class="form-group"
                                                 ng-class="{ 'has-error' : agregarTiendaFrm.telefono.$invalid && !agregarTiendaFrm.telefono.$pristine}">
                                                <div class="input-group">
                                                <span class="input-group-addon">
                                                    <i class="fa fa-phone" aria-hidden="true"></i>
                                                </span>
                                                    <input id="telefonoId" class="form-control" type="text" name="telefono"
                                                           placeholder="Teléfono"
                                                           aria-describedby="sizing-addon1" maxlength="10" ng-maxlength="10"
                                                           ng-pattern="/^[0-9]{10}$/" required
                                                           ng-model="agregarTienda.datos.telefono">
                                                </div>
                                                <div ng-messages="agregarTiendaFrm.telefono.$dirty && agregarTiendaFrm.telefono.$error"
                                                     role="alert">
                                                    <div style="color:red;" ng-message="required"> Campo requerido</div>
                                                    <div style="color:red;" ng-message="maxlength"> 10 dígitos necesarios</div>
                                                    <div style="color:red;" ng-message="pattern"> Teléfono a 10 dígitos</div>
                                                </div>
                                            </div>
                                        </div>
                                        <!-- TELÉFONO EXTENSIÓN -->
                                        <div class="col-sm-6">
                                            <div class="form-group">
                                                <div class="input-group">
                                                <span class="input-group-addon">
                                                    <i class="fa fa-phone" aria-hidden="true"></i>
                                                </span>
                                                    <input id="extensionId" class="form-control texto-en-mayusculas" type="text" name="extension"
                                                           placeholder="Extensión" aria-describedby="sizing-addon1" maxlength="10"
                                                           ng-pattern="/^[0-9]{10}$/" ng-model="agregarTienda.datos.extension">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!--DATOS FISCALES-->
                                    <div class="row animated fadeInRight"
                                         ng-show="agregarTienda.pasoActual === 2">                                        <!--DATOS FISCALES-->
                                        <h3>Datos Fiscales</h3>
                                        <!--RAZÓN SOCIAL-->
                                        <div class="col-sm-6">
                                            <div class="form-group"
                                                 ng-class="{ 'has-error' : agregarTiendaFrm.razonSocial.$invalid && !agregarTiendaFrm.razonSocial.$pristine}">
                                                <div class="input-group">
                                                <span class="input-group-addon">
                                                    <i class="fa fa-building-o" aria-hidden="true"></i>
                                                </span>
                                                    <input id="razonSocialId" class="form-control texto-en-mayusculas" name="razonSocial" type="text"
                                                           placeholder="Razón Social" aria-describedby="sizing-addon1"
                                                           minlength="2" maxlength="51" ng-minlength="2" ng-maxlength="50"
                                                           ng-pattern="/^[a-zA-Z-/.&ÑñáéíóúÁÉÍÓÚ-\s\d]+$/" required
                                                           ng-model="agregarTienda.datosFiscales.razonSocial">
                                                </div>
                                                <div ng-messages="agregarTiendaFrm.razonSocial.$dirty && agregarTiendaFrm.razonSocial.$error"
                                                     role="alert">
                                                    <div style="color:red;" ng-message="required"> Campo requerido</div>
                                                    <div style="color:red;" ng-message="minlength"> Longitud mínima 2 caracteres</div>
                                                    <div style="color:red;" ng-message="maxlength"> Longitud máxima 50 caracteres</div>
                                                    <div style="color:red;" ng-message="pattern"> Sólo caracteres alfabéticos</div>
                                                </div>
                                            </div>
                                        </div>
                                        <!-- EMAIL FISCAL -->
                                        <!--<div class="col-sm-6">
                                            <div class="form-group"
                                                 ng-class="{ 'has-error' : agregarTiendaFrm.emailFiscal.$invalid && !agregarTiendaFrm.emailFiscal.$pristine}">
                                                <div class="input-group">
                                                    <span class="input-group-addon">@</span>
                                                    <input id="emailFiscalId" class="form-control" name="emailFiscal" type="emailFiscal"
                                                           placeholder="Correo Electrónico" aria-describedby="sizing-addon1" minlength="5"
                                                           maxlength="51" ng-minlength="5" ng-maxlength="50" required
                                                           ng-model="agregarTienda.datosFiscales.emailFiscal">
                                                </div>
                                                <div ng-messages="agregarTiendaFrm.emailFiscal.$dirty && agregarTiendaFrm.emailFiscal.$error"
                                                     role="alert">
                                                    <div style="color:red;" ng-message="required"> Campo requerido</div>
                                                    <div style="color:red;" ng-message="email"> Formato de correo incorrecto</div>
                                                    <div style="color:red;" ng-message="minlength"> Longitud mínima 2 caracteres</div>
                                                    <div style="color:red;" ng-message="maxlength"> Longitud máxima 50 caracteres</div>
                                                </div>
                                            </div>
                                        </div> -->
                                        <!--RFC-->
                                        <div class="col-sm-6">
                                            <div class="form-group"
                                                 ng-class="{ 'has-error' : agregarTiendaFrm.rfc.$invalid && !agregarTiendaFrm.rfc.$pristine}">
                                                <div class="input-group">
                                                <span class="input-group-addon">
                                                    <i class="fa fa-building-o" aria-hidden="true"></i>
                                                </span>
                                                    <input id="rfcId" class="form-control texto-en-mayusculas" name="rfc" type="text"
                                                           placeholder="RFC" aria-describedby="sizing-addon1"
                                                           minlength="2" maxlength="51" ng-minlength="2" ng-maxlength="50"
                                                           ng-pattern="/^([A-ZÑ\x26]{3,4}([0-9]{2})(0[1-9]|1[0-2])(0[1-9]|1[0-9]|2[0-9]|3[0-1]))([A-Z\d]{3})?$/"
                                                           required ng-model="agregarTienda.datosFiscales.rfc">
                                                </div>
                                                <div ng-messages="agregarTiendaFrm.rfc.$dirty && agregarTiendaFrm.rfc.$error"
                                                     role="alert">
                                                    <div style="color:red;" ng-message="required"> Campo requerido</div>
                                                    <div style="color:red;" ng-message="minlength"> Longitud mínima 2 caracteres</div>
                                                    <div style="color:red;" ng-message="maxlength"> Longitud máxima 50 caracteres</div>
                                                    <div style="color:red;" ng-message="pattern"> RFC inválido</div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!--DIRECCIÓN FISCAL-->
                                    <div class="row animated fadeInRight"
                                         ng-show="agregarTienda.pasoActual === 3">
                                        <h3>Dirección Fiscal</h3>
                                        <forma-direccion direccion="agregarTienda.datosFiscales"></forma-direccion>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!--ALERTAS-->
        <div class="row">
            <div class="col-lg-12">
                <!-- ALERTA -->
                <alertas tipo="agregarTienda.tipoMsj" mensaje="agregarTienda.msj"></alertas>
            </div>
        </div>

    </div>

    <div class="inmodal">
        <div class="modal-footer">
            <!--BOTON ATRAS -->
            <a type="button" class="btn btn-default"
               ng-click="agregarTienda.atras()"
               ng-show="agregarTienda.pasoActual === 2 || agregarTienda.pasoActual === 3">
                Atrás
            </a>
            <!--BOTON SIGUIENTE -->
            <button type="button" class="btn btn-primary"
                    ng-click="agregarTienda.siguiente()"
                    ng-show="agregarTienda.pasoActual === 1 || agregarTienda.pasoActual === 2">
                Siguiente
            </button>
            <!--BOTON FINALIZAR -->
            <button type="button" class="btn btn-primary"
                    ng-disabled="agregarTiendaFrm.$invalid"
                    ng-click="agregarTienda.agregar()"
                    ng-show="agregarTienda.pasoActual === 3">
                Finalizar
            </button>
        </div>
    </div>

</form>